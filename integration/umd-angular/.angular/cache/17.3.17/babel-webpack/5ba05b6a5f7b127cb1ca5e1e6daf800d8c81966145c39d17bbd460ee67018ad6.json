{"ast":null,"code":"import * as datamatic from 'datamatic';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction AppComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function AppComponent_span_15_Template_button_click_2_listener() {\n      const i_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeItem(i_r2));\n    });\n    i0.ɵɵtext(3, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r4, \" \");\n  }\n}\nfunction AppComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(item_r5);\n  }\n}\nfunction AppComponent_p_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 20);\n    i0.ɵɵtext(1, \"No data yet. Click \\\"Run sample\\\".\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_section_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 21)(1, \"h2\");\n    i0.ɵɵtext(2, \"Errors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.errorMessage);\n  }\n}\nexport class AppComponent {\n  constructor() {\n    this.title = 'Datamatic Angular Integration';\n    this.data = [];\n    this.errorMessage = '';\n    this.items = ['alpha', 'beta', 'gamma'];\n    this.newItem = '';\n    this.subscription = null;\n    this.intervalId = null;\n  }\n  ngOnInit() {\n    this.tx = new datamatic.Pipeline({\n      type: 'array',\n      items: {\n        type: 'string'\n      }\n    });\n    this.subscription = this.tx.subscribe({\n      next: data => {\n        this.data = Array.isArray(data) ? data : [];\n      },\n      error: error => {\n        this.errorMessage = `${error ?? 'Unknown error'}`;\n      }\n    });\n    this.runSample();\n  }\n  ngOnDestroy() {\n    this.subscription?.unsubscribe?.();\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n    }\n  }\n  addItem() {\n    const value = this.newItem.trim();\n    if (!value) {\n      return;\n    }\n    this.items = [...this.items, value];\n    this.newItem = '';\n    this.runSample();\n  }\n  removeItem(index) {\n    this.items = this.items.filter((_, i) => i !== index);\n    this.runSample();\n  }\n  runSample() {\n    this.errorMessage = '';\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n    }\n    this.data = [];\n    const safeList = this.items.filter(item => item.trim().length > 0);\n    if (safeList.length === 0) {\n      return;\n    }\n    let index = 0;\n    let current = [];\n    this.intervalId = setInterval(() => {\n      if (index >= safeList.length) {\n        if (this.intervalId) {\n          clearInterval(this.intervalId);\n          this.intervalId = null;\n        }\n        return;\n      }\n      current = current.concat(safeList[index]);\n      this.tx.write(current);\n      index += 1;\n    }, 600);\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 27,\n      vars: 6,\n      consts: [[1, \"page\"], [1, \"hero\"], [1, \"eyebrow\"], [1, \"lede\"], [1, \"controls\"], [1, \"controls-row\"], [\"type\", \"text\", \"placeholder\", \"Add an item\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"button\", 1, \"ghost\", 3, \"click\"], [1, \"list\"], [\"class\", \"list-item\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"cta\", 3, \"click\"], [1, \"panel\"], [1, \"hint\"], [1, \"chips\"], [\"class\", \"chip\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"empty\", 4, \"ngIf\"], [\"class\", \"panel error\", 4, \"ngIf\"], [1, \"list-item\"], [\"type\", \"button\", 3, \"click\"], [1, \"chip\"], [1, \"empty\"], [1, \"panel\", \"error\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"div\")(3, \"p\", 2);\n          i0.ɵɵtext(4, \"Angular + Datamatic (UMD)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"h1\");\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\", 3);\n          i0.ɵɵtext(8, \" This example runs a Datamatic pipeline in Angular and renders the streamed output below. \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\", 5)(11, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_11_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.newItem, $event) || (ctx.newItem = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_12_listener() {\n            return ctx.addItem();\n          });\n          i0.ɵɵtext(13, \" Add item \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 8);\n          i0.ɵɵtemplate(15, AppComponent_span_15_Template, 4, 1, \"span\", 9);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(16, \"button\", 10);\n          i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_16_listener() {\n            return ctx.runSample();\n          });\n          i0.ɵɵtext(17, \"Run sample\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"section\", 11)(19, \"h2\");\n          i0.ɵɵtext(20, \"Pipeline output\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"p\", 12);\n          i0.ɵɵtext(22, \"Latest items emitted by the pipeline.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"div\", 13);\n          i0.ɵɵtemplate(24, AppComponent_span_24_Template, 2, 1, \"span\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(25, AppComponent_p_25_Template, 2, 0, \"p\", 15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(26, AppComponent_section_26_Template, 5, 1, \"section\", 16);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.title);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.newItem);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.items);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngForOf\", ctx.data);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.data.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n        }\n      },\n      dependencies: [i1.NgForOf, i1.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n      styles: [\"[_nghost-%COMP%] {\\n  display: block;\\n  font-family: \\\"IBM Plex Sans\\\", \\\"Segoe UI\\\", sans-serif;\\n  color: #1b1f24;\\n  background: radial-gradient(circle at top, #ffe5d0 0%, #fff3e8 45%, #fff9f5 100%);\\n  min-height: 100vh;\\n}\\n\\n.page[_ngcontent-%COMP%] {\\n  max-width: 900px;\\n  margin: 0 auto;\\n  padding: 48px 20px 72px;\\n}\\n\\n.hero[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: flex-start;\\n  justify-content: space-between;\\n  gap: 24px;\\n  background: #ffffff;\\n  padding: 24px 28px;\\n  border-radius: 20px;\\n  box-shadow: 0 20px 50px rgba(23, 32, 41, 0.1);\\n}\\n\\n.eyebrow[_ngcontent-%COMP%] {\\n  text-transform: uppercase;\\n  letter-spacing: 0.2em;\\n  font-size: 12px;\\n  margin: 0 0 8px;\\n  color: #f97316;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  margin: 0 0 12px;\\n  font-size: 32px;\\n}\\n\\n.lede[_ngcontent-%COMP%] {\\n  margin: 0;\\n  max-width: 520px;\\n  color: #4b5563;\\n}\\n\\n.controls[_ngcontent-%COMP%] {\\n  margin-top: 16px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 12px;\\n}\\n\\n.controls-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 10px;\\n}\\n\\n.controls[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 10px 12px;\\n  border-radius: 10px;\\n  border: 1px solid #f1b3d2;\\n  font-size: 14px;\\n}\\n\\n.ghost[_ngcontent-%COMP%] {\\n  border: 1px solid #f97316;\\n  background: #fff3e8;\\n  color: #c2410c;\\n  padding: 10px 14px;\\n  border-radius: 999px;\\n  font-weight: 600;\\n  cursor: pointer;\\n}\\n\\n.list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 8px;\\n}\\n\\n.list-item[_ngcontent-%COMP%] {\\n  display: inline-flex;\\n  align-items: center;\\n  gap: 8px;\\n  background: #ffedd5;\\n  color: #c2410c;\\n  border-radius: 999px;\\n  padding: 6px 12px;\\n  font-weight: 600;\\n}\\n\\n.list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  border: none;\\n  background: #f97316;\\n  color: #fff;\\n  border-radius: 999px;\\n  width: 20px;\\n  height: 20px;\\n  cursor: pointer;\\n  font-size: 12px;\\n  line-height: 1;\\n}\\n\\n.cta[_ngcontent-%COMP%] {\\n  border: none;\\n  background: #f97316;\\n  color: #ffffff;\\n  padding: 12px 18px;\\n  border-radius: 999px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  box-shadow: 0 10px 20px rgba(249, 115, 22, 0.25);\\n}\\n\\n.panel[_ngcontent-%COMP%] {\\n  margin-top: 28px;\\n  background: #ffffff;\\n  padding: 22px 26px;\\n  border-radius: 16px;\\n  border: 1px solid #f1f1f1;\\n}\\n\\n.panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0 0 6px;\\n}\\n\\n.hint[_ngcontent-%COMP%] {\\n  margin: 0 0 16px;\\n  color: #6b7280;\\n}\\n\\n.chips[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 10px;\\n}\\n\\n.chip[_ngcontent-%COMP%] {\\n  background: #fde68a;\\n  color: #92400e;\\n  padding: 6px 12px;\\n  border-radius: 999px;\\n  font-weight: 600;\\n}\\n\\n.empty[_ngcontent-%COMP%] {\\n  margin-top: 12px;\\n  color: #9ca3af;\\n}\\n\\n.error[_ngcontent-%COMP%] {\\n  border-color: #fecaca;\\n  background: #fff1f2;\\n  color: #991b1b;\\n}\\n\\n@media (max-width: 700px) {\\n  .hero[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n\\n  h1[_ngcontent-%COMP%] {\\n    font-size: 26px;\\n  }\\n\\n  .controls-row[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2Qsb0RBQW9EO0VBQ3BELGNBQWM7RUFDZCxpRkFBaUY7RUFDakYsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLDhCQUE4QjtFQUM5QixTQUFTO0VBQ1QsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsNkNBQTZDO0FBQy9DOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLHFCQUFxQjtFQUNyQixlQUFlO0VBQ2YsZUFBZTtFQUNmLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFNBQVM7RUFDVCxnQkFBZ0I7RUFDaEIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGFBQWE7RUFDYixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxPQUFPO0VBQ1Asa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQix5QkFBeUI7RUFDekIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixvQkFBb0I7RUFDcEIsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLFFBQVE7QUFDVjs7QUFFQTtFQUNFLG9CQUFvQjtFQUNwQixtQkFBbUI7RUFDbkIsUUFBUTtFQUNSLG1CQUFtQjtFQUNuQixjQUFjO0VBQ2Qsb0JBQW9CO0VBQ3BCLGlCQUFpQjtFQUNqQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxvQkFBb0I7RUFDcEIsV0FBVztFQUNYLFlBQVk7RUFDWixlQUFlO0VBQ2YsZUFBZTtFQUNmLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsZ0RBQWdEO0FBQ2xEOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsU0FBUztBQUNYOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxpQkFBaUI7RUFDakIsb0JBQW9CO0VBQ3BCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0U7SUFDRSxzQkFBc0I7RUFDeEI7O0VBRUE7SUFDRSxlQUFlO0VBQ2pCOztFQUVBO0lBQ0Usc0JBQXNCO0VBQ3hCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LWZhbWlseTogXCJJQk0gUGxleCBTYW5zXCIsIFwiU2Vnb2UgVUlcIiwgc2Fucy1zZXJpZjtcbiAgY29sb3I6ICMxYjFmMjQ7XG4gIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgdG9wLCAjZmZlNWQwIDAlLCAjZmZmM2U4IDQ1JSwgI2ZmZjlmNSAxMDAlKTtcbiAgbWluLWhlaWdodDogMTAwdmg7XG59XG5cbi5wYWdlIHtcbiAgbWF4LXdpZHRoOiA5MDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHBhZGRpbmc6IDQ4cHggMjBweCA3MnB4O1xufVxuXG4uaGVybyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGdhcDogMjRweDtcbiAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgcGFkZGluZzogMjRweCAyOHB4O1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBib3gtc2hhZG93OiAwIDIwcHggNTBweCByZ2JhKDIzLCAzMiwgNDEsIDAuMSk7XG59XG5cbi5leWVicm93IHtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMmVtO1xuICBmb250LXNpemU6IDEycHg7XG4gIG1hcmdpbjogMCAwIDhweDtcbiAgY29sb3I6ICNmOTczMTY7XG59XG5cbmgxIHtcbiAgbWFyZ2luOiAwIDAgMTJweDtcbiAgZm9udC1zaXplOiAzMnB4O1xufVxuXG4ubGVkZSB7XG4gIG1hcmdpbjogMDtcbiAgbWF4LXdpZHRoOiA1MjBweDtcbiAgY29sb3I6ICM0YjU1NjM7XG59XG5cbi5jb250cm9scyB7XG4gIG1hcmdpbi10b3A6IDE2cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMTJweDtcbn1cblxuLmNvbnRyb2xzLXJvdyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMTBweDtcbn1cblxuLmNvbnRyb2xzIGlucHV0IHtcbiAgZmxleDogMTtcbiAgcGFkZGluZzogMTBweCAxMnB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZjFiM2QyO1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5naG9zdCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNmOTczMTY7XG4gIGJhY2tncm91bmQ6ICNmZmYzZTg7XG4gIGNvbG9yOiAjYzI0MTBjO1xuICBwYWRkaW5nOiAxMHB4IDE0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5saXN0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBnYXA6IDhweDtcbn1cblxuLmxpc3QtaXRlbSB7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDhweDtcbiAgYmFja2dyb3VuZDogI2ZmZWRkNTtcbiAgY29sb3I6ICNjMjQxMGM7XG4gIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xuICBwYWRkaW5nOiA2cHggMTJweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLmxpc3QtaXRlbSBidXR0b24ge1xuICBib3JkZXI6IG5vbmU7XG4gIGJhY2tncm91bmQ6ICNmOTczMTY7XG4gIGNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiA5OTlweDtcbiAgd2lkdGg6IDIwcHg7XG4gIGhlaWdodDogMjBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXNpemU6IDEycHg7XG4gIGxpbmUtaGVpZ2h0OiAxO1xufVxuXG4uY3RhIHtcbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kOiAjZjk3MzE2O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgcGFkZGluZzogMTJweCAxOHB4O1xuICBib3JkZXItcmFkaXVzOiA5OTlweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDI0OSwgMTE1LCAyMiwgMC4yNSk7XG59XG5cbi5wYW5lbCB7XG4gIG1hcmdpbi10b3A6IDI4cHg7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gIHBhZGRpbmc6IDIycHggMjZweDtcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2YxZjFmMTtcbn1cblxuLnBhbmVsIGgyIHtcbiAgbWFyZ2luOiAwIDAgNnB4O1xufVxuXG4uaGludCB7XG4gIG1hcmdpbjogMCAwIDE2cHg7XG4gIGNvbG9yOiAjNmI3MjgwO1xufVxuXG4uY2hpcHMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGdhcDogMTBweDtcbn1cblxuLmNoaXAge1xuICBiYWNrZ3JvdW5kOiAjZmRlNjhhO1xuICBjb2xvcjogIzkyNDAwZTtcbiAgcGFkZGluZzogNnB4IDEycHg7XG4gIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4uZW1wdHkge1xuICBtYXJnaW4tdG9wOiAxMnB4O1xuICBjb2xvcjogIzljYTNhZjtcbn1cblxuLmVycm9yIHtcbiAgYm9yZGVyLWNvbG9yOiAjZmVjYWNhO1xuICBiYWNrZ3JvdW5kOiAjZmZmMWYyO1xuICBjb2xvcjogIzk5MWIxYjtcbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDcwMHB4KSB7XG4gIC5oZXJvIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgaDEge1xuICAgIGZvbnQtc2l6ZTogMjZweDtcbiAgfVxuXG4gIC5jb250cm9scy1yb3cge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["datamatic","i0","ɵɵelementStart","ɵɵtext","ɵɵlistener","AppComponent_span_15_Template_button_click_2_listener","i_r2","ɵɵrestoreView","_r1","index","ctx_r2","ɵɵnextContext","ɵɵresetView","removeItem","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","item_r4","ɵɵtextInterpolate","item_r5","errorMessage","AppComponent","constructor","title","data","items","newItem","subscription","intervalId","ngOnInit","tx","Pipeline","type","subscribe","next","Array","isArray","error","runSample","ngOnDestroy","unsubscribe","clearInterval","addItem","value","trim","filter","_","i","safeList","item","length","current","setInterval","concat","write","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtwoWayListener","AppComponent_Template_input_ngModelChange_11_listener","$event","ɵɵtwoWayBindingSet","AppComponent_Template_button_click_12_listener","ɵɵtemplate","AppComponent_span_15_Template","AppComponent_Template_button_click_16_listener","AppComponent_span_24_Template","AppComponent_p_25_Template","AppComponent_section_26_Template","ɵɵtwoWayProperty","ɵɵproperty"],"sources":["/Users/vanschroeder/Workspace/datamatic/integration/umd-angular/src/app/app.component.ts","/Users/vanschroeder/Workspace/datamatic/integration/umd-angular/src/app/app.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport * as datamatic from 'datamatic';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  title = 'Datamatic Angular Integration';\n  data: string[] = [];\n  errorMessage = '';\n  items: string[] = ['alpha', 'beta', 'gamma'];\n  newItem = '';\n  private tx: any;\n  private subscription: { unsubscribe?: () => void } | null = null;\n  private intervalId: ReturnType<typeof setInterval> | null = null;\n\n  ngOnInit() {\n    this.tx = new datamatic.Pipeline({\n      type: 'array',\n      items: {\n        type: 'string'\n      }\n    });\n\n    this.subscription = this.tx.subscribe({\n      next: (data: string[]) => {\n        this.data = Array.isArray(data) ? data : [];\n      },\n      error: (error: unknown) => {\n        this.errorMessage = `${error ?? 'Unknown error'}`;\n      }\n    });\n\n    this.runSample();\n  }\n\n  ngOnDestroy() {\n    this.subscription?.unsubscribe?.();\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n    }\n  }\n\n  addItem() {\n    const value = this.newItem.trim();\n    if (!value) {\n      return;\n    }\n    this.items = [...this.items, value];\n    this.newItem = '';\n    this.runSample();\n  }\n\n  removeItem(index: number) {\n    this.items = this.items.filter((_, i) => i !== index);\n    this.runSample();\n  }\n\n  runSample() {\n    this.errorMessage = '';\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n    }\n    this.data = [];\n    const safeList = this.items.filter((item) => item.trim().length > 0);\n    if (safeList.length === 0) {\n      return;\n    }\n    let index = 0;\n    let current: string[] = [];\n    this.intervalId = setInterval(() => {\n      if (index >= safeList.length) {\n        if (this.intervalId) {\n          clearInterval(this.intervalId);\n          this.intervalId = null;\n        }\n        return;\n      }\n      current = current.concat(safeList[index]);\n      this.tx.write(current);\n      index += 1;\n    }, 600);\n  }\n}\n","<div class=\"page\">\n  <header class=\"hero\">\n    <div>\n      <p class=\"eyebrow\">Angular + Datamatic (UMD)</p>\n      <h1>{{ title }}</h1>\n      <p class=\"lede\">\n        This example runs a Datamatic pipeline in Angular and renders the\n        streamed output below.\n      </p>\n      <div class=\"controls\">\n        <div class=\"controls-row\">\n          <input\n            type=\"text\"\n            placeholder=\"Add an item\"\n            [(ngModel)]=\"newItem\"\n          />\n          <button type=\"button\" class=\"ghost\" (click)=\"addItem()\">\n            Add item\n          </button>\n        </div>\n        <div class=\"list\">\n          <span class=\"list-item\" *ngFor=\"let item of items; let i = index\">\n            {{ item }}\n            <button type=\"button\" (click)=\"removeItem(i)\">×</button>\n          </span>\n        </div>\n      </div>\n    </div>\n    <button type=\"button\" class=\"cta\" (click)=\"runSample()\">Run sample</button>\n  </header>\n\n  <section class=\"panel\">\n    <h2>Pipeline output</h2>\n    <p class=\"hint\">Latest items emitted by the pipeline.</p>\n    <div class=\"chips\">\n      <span class=\"chip\" *ngFor=\"let item of data\">{{ item }}</span>\n    </div>\n    <p class=\"empty\" *ngIf=\"data.length === 0\">No data yet. Click \"Run sample\".</p>\n  </section>\n\n  <section class=\"panel error\" *ngIf=\"errorMessage\">\n    <h2>Errors</h2>\n    <p>{{ errorMessage }}</p>\n  </section>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}